hello_word


import os
import subprocess
import re

# 当前跑资源设备号
devlist=["c7379aaa","IJYXVS9PEIIFIJEM","5a4faf5d","JVXS85AMJFQWQGPV"]
package= "com.nearme.instant.platform"
installurl=""


def get_deviceid():
    str_init=' '
    all_info= os.popen('adb devices').readlines()
    # print('adb devices 输出的内容是：',all_info)

    for i in range(len(all_info)):
        str_init+=all_info[i]
    devices_name=re.findall('\n(.+?)\t',str_init,re.S)

    # print('所有设备名称：\n',devices_name)
    return devices_name



def installapk():
    getdevid=get_deviceid()
    cc= len(getdevid)
    print(cc)
    for i in range(cc):
        try:
            cmdput1="adb -s {0} install -r -d -t com.nearme.instant.platform".format(getdevid[i])
            os.system(cmdput1)
        except Exception as e:
            print("当前"+devlist[1]+"设备安装异常")
    return "安装完成"


def uninstall():
    getdevid = get_deviceid()
    dd = len(getdevid)
    for i in range(dd):
        try:
            cmdput2 = "adb -s {0} uninstall com.nearme.instant.platform" .format(getdevid[i])
            os.system(cmdput2)
        except Exception as e:
            print("当前" + devlist[1] + "设备卸载异常")

    return "卸载完成"

def run():
    aa=uninstall()
    print(aa)
    bb=installapk()
    print(bb)


if __name__ == '__main__':
    uninstall()
